---
import client from "../assets/client.json";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";

// Receiving and destructuring props from the .astro pages
const { description, title, preloadedImage } = Astro.props;
---

<!-- A fully fleshed-out <head>, dynamically changing based on client.json and the page front matter -->
<html lang="en">
  <head>
    <!-- Standard meta tags -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <meta name="keywords" content="" />
    <link rel="canonical" href={`https://${client.domain}${Astro.url.pathname}`} />
    <link rel="sitemap" href="/sitemap-index.xml" />

    <!-- Social Media Display -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={`https://${client.domain}${Astro.url.pathname}`} />
    <meta property="og:image" content="/assets/images/logo-small.png" />
    <meta property="og:image:secure_url" content="/assets/images/logo-small.png" />

	<!-- Favicons -->
  <!-- <link rel="icon" type="image/png" href="../assets/favicons/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="../assets/favicons/favicon.svg" />
  <link rel="shortcut icon" href="../assets/favicons/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="../assets/favicons/site.webmanifest" />
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff"> -->

    <!--For home page, use service keywords for the title, including location for SEO.
    Other pages should just include the page name.
    
    EXAMPLE:
    Home page - House Painting Contractors | Painters and Co. | TestCity, WA
    About Page - About us | Painters and Co.
    -->
    <title>
      {
        Astro.url.pathname === "/"
          ? `${title}
                |
                ${client.name}
                |
                ${client.address.city},
                ${client.address.state}`
          : `${title}
                    |
                    ${client.name}`
      }
    </title>

  </head>

  <body>
    <!--Screen reader skip main nav-->
    <a class="skip" aria-label="skip to main content" href="#main">Click To Skip To Main Content</a>
    <Navbar />

    <main id="main">
      <slot />
    </main>

    <Footer />
  </body>
</html>

<style>
:global(:root) {
    /* Add these styles to your global stylesheet, which is used across all site pages. You only need to do this once. All elements in the library derive their variables and base styles from this central sheet, simplifying site-wide edits. For instance, if you want to modify how your h2's appear across the site, you just update it once in the global styles, and the changes apply everywhere. */
    --primary: #4DA6A6;
    --primaryLight: #A7D9D9;
    --secondary: #A3D9A5;
    --secondaryLight: #D5EEDD;
    --headerColor: #1A2B2E;
    --bodyTextColor: #3C4A4F;
    --bodyTextColorWhite: #FAFBFC;
    /* 13px - 16px */
    --topperFontSize: clamp(0.8125rem, 1.6vw, 1rem);
    /* 31px - 49px */
    --headerFontSize: clamp(1.9375rem, 3.9vw, 3.0625rem);
    --bodyFontSize: 1rem;
    /* 60px - 100px top and bottom */
    --sectionPadding: clamp(3.75rem, 7.82vw, 6.25rem) 1rem;
}

:global(body) {
    margin: 0;
    padding: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

:global(.skip) {
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1111111;
}

:global(*), :global(*:before), :global(*:after) {
    /* prevents padding from affecting height and width */
    box-sizing: border-box;
}

:global(.cs-topper) {
    font-size: var(--topperFontSize);
    line-height: 1.2em;
    text-transform: uppercase;
    text-align: inherit;
    letter-spacing: .1em;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 0.25rem;
    display: block;
}

:global(.cs-title) {
    font-size: var(--headerFontSize);
    font-weight: 900;
    line-height: 1.2em;
    text-align: inherit;
    max-width: 43.75rem;
    margin: 0 0 1rem 0;
    color: var(--headerColor);
    position: relative;
}

:global(.cs-text) {
    font-size: var(--bodyFontSize);
    line-height: 1.5em;
    text-align: inherit;
    width: 100%;
    max-width: 40.625rem;
    margin: 0;
    color: var(--bodyTextColor);
}                         
</style>
